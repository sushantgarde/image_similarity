<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Similarity Search - Find Similar Images</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîç</text></svg>">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="logo-container">
                <div class="logo-icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z" fill="currentColor"/>
                    </svg>
                </div>
                <h1 class="title">Image Similarity Finder</h1>
            </div>
            <p class="subtitle">Upload an image to find visually similar matches from our database</p>
        </header>

        <!-- Main Upload Section -->
        <div class="upload-section">
            <form id="uploadForm" action="/search" method="POST" enctype="multipart/form-data">
                <div class="upload-area" id="uploadArea">
                    <input type="file" id="fileInput" name="file" accept="image/jpeg,image/jpg,image/png,image/webp" hidden required>
                    <!-- Upload Content (Default View) -->
                    <div class="upload-content" id="uploadContent">
                        <div class="upload-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 16V10H5L12 3L19 10H15V16H9ZM5 20V18H19V20H5Z" fill="currentColor"/>
                            </svg>
                        </div>
                        <h3>Drop your image here</h3>
                        <p>or click to browse from your device</p>
                        <span class="file-info">Supports: JPG, PNG, WEBP (Max 10MB)</span>
                    </div>

                    <!-- Preview Container (Hidden by default) -->
                    <div class="preview-container hidden" id="previewContainer">
                        <img id="imagePreview" src="" alt="Preview">
                        <div class="preview-overlay">
                            <button type="button" class="btn-remove" id="removeBtn" aria-label="Remove image">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                        <p class="filename" id="filename"></p>
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="btn-submit" id="submitBtn" disabled>
                    <span class="btn-text">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 20px; height: 20px;">
                            <path d="M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z" fill="currentColor"/>
                        </svg>
                        Find Similar Images
                    </span>
                    <span class="btn-loader hidden">
                        <span class="spinner"></span>
                        Searching...
                    </span>
                </button>
            </form>
        </div>

        <!-- Features Section -->
        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">‚ö°</div>
                <h3>Lightning Fast</h3>
                <p>Advanced neural networks process images in milliseconds</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üéØ</div>
                <h3>High Accuracy</h3>
                <p>Deep learning algorithms ensure precise matching results</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üîí</div>
                <h3>Secure & Private</h3>
                <p>Your images are processed securely and never stored permanently</p>
            </div>
        </div>

        <!-- How It Works Section -->
        <div class="how-it-works">
            <h2 class="section-title">How It Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h4>Upload Image</h4>
                    <p>Choose or drag an image you want to find matches for</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h4>AI Analysis</h4>
                    <p>Our AI extracts visual features and patterns</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h4>Get Results</h4>
                    <p>View similar images ranked by similarity score</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container for Notifications -->
    <div id="toastContainer"></div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>